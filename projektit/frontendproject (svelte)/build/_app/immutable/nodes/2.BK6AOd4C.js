import{c as Oe,a as M,t as L}from"../chunks/B2SP3F8f.js";import{i as Y}from"../chunks/BHNx_uTg.js";import{A as He,i as Ve,G as re,l as B,B as qe,F as ze,g as y,a3 as Ge,P as Ue,Q as ge,R as ne,m as J,ai as We,V as Ce,j as Ne,W as Ye,ar as oe,am as Se,C as ee,as as Pe,a0 as Ke,J as ye,y as Xe,at as Je,au as Qe,al as Ze,av as je,k as et,aw as tt,ax as at,ag as st,X as ue,b as _e,O as rt,ay as nt,az as ot,aA as it,E as lt,aB as ct,aC as dt,aD as ft,aE as vt,Z as ut,n as Q,ab as ke,ac as we,ad as _t,aF as pt,Y as mt,M as ht,_ as bt,p as P,aG as W,aH as te,o as pe,q as K,e as Z,aI as I,L as x,w as E,s as $,v as w,t as G}from"../chunks/DNukreFy.js";import{p as U,i as Me,s as me,c as Ie,b as he,d as D,m as gt}from"../chunks/CnOrSWEU.js";import{a as yt,b as kt,l as wt,s as H,e as S}from"../chunks/CPZNQVwy.js";import{w as Le,a as $t,c as be,o as Tt}from"../chunks/NlahZ2gr.js";function Et(t,e,a,r){for(var n=[],s=e.length,i=0;i<s;i++)Qe(e[i].e,n,!0);var f=s>0&&n.length===0&&a!==null;if(f){var p=a.parentNode;Ze(p),p.append(a),r.clear(),z(t,e[0].prev,e[s-1].next)}je(n,()=>{for(var c=0;c<s;c++){var o=e[c];f||(r.delete(o.k),z(t,o.prev,o.next)),et(o.e,!f)}})}function xt(t,e,a,r,n,s=null){var i=t,f={items:new Map,first:null};{var p=t;i=B?re(qe(p)):p.appendChild(He())}B&&ze();var c=null,o=!1,m=Ge(()=>{var d=a();return Xe(d)?d:d==null?[]:Se(d)});Ve(()=>{var d=y(m),v=d.length;if(o&&v===0)return;o=v===0;let u=!1;if(B){var b=i.data===Ue;b!==(v===0)&&(i=ge(),re(i),ne(!1),u=!0)}if(B){for(var g=null,_,k=0;k<v;k++){if(J.nodeType===8&&J.data===We){i=J,u=!0,ne(!1);break}var A=d[k],l=r(A,k);_=Re(J,f,g,null,A,l,k,n,e,a),f.items.set(l,_),g=_}v>0&&re(ge())}B||At(d,f,i,n,e,r,a),s!==null&&(v===0?c?Ce(c):c=Ne(()=>s(i)):c!==null&&Ye(c,()=>{c=null})),u&&ne(!0),y(m)}),B&&(i=J)}function At(t,e,a,r,n,s,i){var f=t.length,p=e.items,c=e.first,o=c,m,d=null,v=[],u=[],b,g,_,k;for(k=0;k<f;k+=1){if(b=t[k],g=s(b,k),_=p.get(g),_===void 0){var A=o?o.e.nodes_start:a;d=Re(A,e,d,d===null?e.first:d.next,b,g,k,r,n,i),p.set(g,d),v=[],u=[],o=d.next;continue}if(Ct(_,b,k),_.e.f&oe&&Ce(_.e),_!==o){if(m!==void 0&&m.has(_)){if(v.length<u.length){var l=u[0],h;d=l.prev;var T=v[0],C=v[v.length-1];for(h=0;h<v.length;h+=1)$e(v[h],l,a);for(h=0;h<u.length;h+=1)m.delete(u[h]);z(e,T.prev,C.next),z(e,d,T),z(e,C,l),o=l,d=C,k-=1,v=[],u=[]}else m.delete(_),$e(_,o,a),z(e,_.prev,_.next),z(e,_,d===null?e.first:d.next),z(e,d,_),d=_;continue}for(v=[],u=[];o!==null&&o.k!==g;)o.e.f&oe||(m??(m=new Set)).add(o),u.push(o),o=o.next;if(o===null)continue;_=o}v.push(_),d=_,o=_.next}if(o!==null||m!==void 0){for(var N=m===void 0?[]:Se(m);o!==null;)o.e.f&oe||N.push(o),o=o.next;var R=N.length;if(R>0){var O=f===0?a:null;Et(e,N,O,p)}}ee.first=e.first&&e.first.e,ee.last=d&&d.e}function Ct(t,e,a,r){Pe(t.v,e),t.i=a}function Re(t,e,a,r,n,s,i,f,p,c){var o=(p&tt)!==0,m=(p&at)===0,d=o?m?Ke(n):ye(n):n,v=p&Je?ye(i):i,u={i:v,v:d,k:s,a:null,e:null,prev:a,next:r};try{return u.e=Ne(()=>f(t,d,v,c),B),u.e.prev=a&&a.e,u.e.next=r&&r.e,a===null?e.first=u:(a.next=u,a.e.next=u.e),r!==null&&(r.prev=u,r.e.prev=u.e),u}finally{}}function $e(t,e,a){for(var r=t.next?t.next.e.nodes_start:a,n=e?e.e.nodes_start:a,s=t.e.nodes_start;s!==r;){var i=st(s);n.before(s),s=i}}function z(t,e,a){e===null?t.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function Nt(t,e,a){ue(()=>{var r=_e(()=>e(t,a==null?void 0:a())||{});if(r!=null&&r.destroy)return()=>r.destroy()})}function fe(t){if(B){var e=!1,a=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var r=t.value;q(t,"value",null),t.value=r}if(t.hasAttribute("checked")){var n=t.checked;q(t,"checked",null),t.checked=n}}};t.__on_r=a,nt(a),yt()}}function St(t,e){var a=t.__attributes??(t.__attributes={});a.checked!==(a.checked=e??void 0)&&(t.checked=e)}function q(t,e,a,r){var n=t.__attributes??(t.__attributes={});B&&(n[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||n[e]!==(n[e]=a)&&(e==="style"&&"__styles"in t&&(t.__styles={}),e==="loading"&&(t[ot]=a),a==null?t.removeAttribute(e):typeof a!="string"&&Mt(t).includes(e)?t[e]=a:t.setAttribute(e,a))}var Te=new Map;function Mt(t){var e=Te.get(t.nodeName);if(e)return e;Te.set(t.nodeName,e=[]);for(var a,r=t,n=Element.prototype;n!==r;){a=it(r);for(var s in a)a[s].set&&e.push(s);r=rt(r)}return e}function ie(t,e,a){if(a){if(t.classList.contains(e))return;t.classList.add(e)}else{if(!t.classList.contains(e))return;t.classList.remove(e)}}const It=()=>performance.now(),V={tick:t=>requestAnimationFrame(t),now:()=>It(),tasks:new Set};function De(){const t=V.now();V.tasks.forEach(e=>{e.c(t)||(V.tasks.delete(e),e.f())}),V.tasks.size!==0&&V.tick(De)}function Lt(t){let e;return V.tasks.size===0&&V.tick(De),{promise:new Promise(a=>{V.tasks.add(e={c:t,f:a})}),abort(){V.tasks.delete(e)}}}function j(t,e){t.dispatchEvent(new CustomEvent(e))}function Rt(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function Ee(t){const e={},a=t.split(";");for(const r of a){const[n,s]=r.split(":");if(!n||s===void 0)break;const i=Rt(n.trim());e[i]=s.trim()}return e}const Dt=t=>t;function Ft(t,e,a,r){var n=(t&ft)!==0,s="both",i,f=e.inert,p=e.style.overflow,c,o;function m(){var g=_t,_=ee;ke(null),we(null);try{return i??(i=a()(e,(r==null?void 0:r())??{},{direction:s}))}finally{ke(g),we(_)}}var d={is_global:n,in(){e.inert=f,j(e,"introstart"),c=ve(e,m(),o,1,()=>{j(e,"introend"),c==null||c.abort(),c=i=void 0,e.style.overflow=p})},out(g){e.inert=!0,j(e,"outrostart"),o=ve(e,m(),c,0,()=>{j(e,"outroend"),g==null||g()})},stop:()=>{c==null||c.abort(),o==null||o.abort()}},v=ee;if((v.transitions??(v.transitions=[])).push(d),kt){var u=n;if(!u){for(var b=v.parent;b&&b.f&lt;)for(;(b=b.parent)&&!(b.f&ct););u=!b||(b.f&dt)!==0}u&&ue(()=>{_e(()=>d.in())})}}function ve(t,e,a,r,n){var s=r===1;if(vt(e)){var i,f=!1;return ut(()=>{if(!f){var g=e({direction:s?"in":"out"});i=ve(t,g,a,r,n)}}),{abort:()=>{f=!0,i==null||i.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(a==null||a.deactivate(),!(e!=null&&e.duration))return n(),{abort:Q,deactivate:Q,reset:Q,t:()=>r};const{delay:p=0,css:c,tick:o,easing:m=Dt}=e;var d=[];if(s&&a===void 0&&(o&&o(0,1),c)){var v=Ee(c(0,1));d.push(v,v)}var u=()=>1-r,b=t.animate(d,{duration:p});return b.onfinish=()=>{var g=(a==null?void 0:a.t())??1-r;a==null||a.abort();var _=r-g,k=e.duration*Math.abs(_),A=[];if(k>0){var l=!1;if(c)for(var h=Math.ceil(k/16.666666666666668),T=0;T<=h;T+=1){var C=g+_*m(T/h),N=Ee(c(C,1-C));A.push(N),l||(l=N.overflow==="hidden")}l&&(t.style.overflow="hidden"),u=()=>{var R=b.currentTime;return g+_*m(R/k)},o&&Lt(()=>{if(b.playState!=="running")return!1;var R=u();return o(R,1-R),!0})}b=t.animate(A,{duration:k,fill:"forwards"}),b.onfinish=()=>{u=()=>r,o==null||o(r,1-r),n()}},{abort:()=>{b&&(b.cancel(),b.effect=null,b.onfinish=Q)},deactivate:()=>{n=Q},reset:()=>{r===0&&(o==null||o(1,0))},t:()=>u()}}function Fe(t,e,a=e){var r=pt();wt(t,"input",n=>{var s=n?t.defaultValue:t.value;if(s=le(t)?ce(s):s,a(s),r&&s!==(s=e())){var i=t.selectionStart,f=t.selectionEnd;t.value=s??"",f!==null&&(t.selectionStart=i,t.selectionEnd=Math.min(f,t.value.length))}}),(B&&t.defaultValue!==t.value||_e(e)==null&&t.value)&&a(le(t)?ce(t.value):t.value),mt(()=>{var n=e();le(t)&&n===ce(t.value)||t.type==="date"&&!n&&!t.value||n!==t.value&&(t.value=n??"")})}function le(t){var e=t.type;return e==="number"||e==="range"}function ce(t){return t===""?null:+t}function Bt(t,e,a){var r=ht(t,e);r&&r.set&&(t[e]=a,bt(()=>{t[e]=null}))}function Be(t){return function(...e){var a=e[0];return a.preventDefault(),t==null?void 0:t.apply(this,e)}}function Ot(t){const e=t-1;return e*e*e+1}function xe(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}function Ht(t,{delay:e=0,duration:a=400,easing:r=Ot,x:n=0,y:s=0,opacity:i=0}={}){const f=getComputedStyle(t),p=+f.opacity,c=f.transform==="none"?"":f.transform,o=p*(1-i),[m,d]=xe(n),[v,u]=xe(s);return{delay:e,duration:a,easing:r,css:(b,g)=>`
			transform: ${c} translate(${(1-b)*m}${d}, ${(1-b)*v}${u});
			opacity: ${p-o*g}`}}const F=Le("Welcome to the to-do list app!"),Vt=[{id:1,name:"Visit MDN web docs",completed:!0},{id:2,name:"Complete the Svelte Tutorial",completed:!1}],Ae=Le(Vt);var qt=L('<div class="svelte-1jnng89"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="svelte-1jnng89"><path d="M12.432 0c1.34 0 2.01.912 2.01 1.957 0 1.305-1.164 2.512-2.679 2.512-1.269 0-2.009-.75-1.974-1.99C9.789 1.436 10.67 0 12.432 0zM8.309 20c-1.058 0-1.833-.652-1.093-3.524l1.214-5.092c.211-.814.246-1.141 0-1.141-.317 0-1.689.562-2.502 1.117l-.528-.88c2.572-2.186 5.531-3.467 6.801-3.467 1.057 0 1.233 1.273.705 3.23l-1.391 5.352c-.246.945-.141 1.271.106 1.271.317 0 1.357-.392 2.379-1.207l.6.814C12.098 19.02 9.365 20 8.309 20z"></path></svg> <p class="svelte-1jnng89"> </p></div>');function zt(t,e){P(e,!1);const[a,r]=me(),n=()=>Ie(F,"$alert",a);let s=U(e,"ms",8,3e3),i=I(),f;const p=(d,v)=>{clearTimeout(f),d?(x(i,!0),v>0&&(f=setTimeout(()=>x(i,!1),v))):x(i,!1)};$t(()=>clearTimeout(f)),W(()=>(n(),Z(s())),()=>{p(n(),s())}),te(),Y();var c=Oe(),o=pe(c);{var m=d=>{var v=qt(),u=E($(v),2),b=$(u,!0);w(u),w(v),G(()=>H(b,n())),S("click",v,()=>x(i,!1)),Ft(3,v,()=>Ht,()=>({delay:250,duration:300,x:0,y:-100,opacity:.5})),M(d,v)};Me(o,d=>{y(i)&&d(m)})}M(t,c),K(),r()}var Gt=L('<div class="filters btn-group stack-exception"><button class="btn toggle-btn"><span class="visually-hidden">Show</span> <span>All</span> <span class="visually-hidden">tasks</span></button> <button class="btn toggle-btn"><span class="visually-hidden">Show</span> <span>Active</span> <span class="visually-hidden">tasks</span></button> <button class="btn toggle-btn"><span class="visually-hidden">Show</span> <span>Completed</span> <span class="visually-hidden">tasks</span></button></div>');function Ut(t,e){let a=U(e,"filter",12,"all");var r=Gt(),n=$(r),s=E(n,2),i=E(s,2);w(r),G(()=>{q(n,"aria-pressed",a()==="all"),ie(n,"btn__primary",a()==="all"),q(s,"aria-pressed",a()==="active"),ie(s,"btn__primary",a()==="active"),q(i,"aria-pressed",a()==="completed"),ie(i,"btn__primary",a()==="completed")}),S("click",n,()=>a("all")),S("click",s,()=>a("active")),S("click",i,()=>a("completed")),M(t,r)}var Wt=L('<form class="stack-small"><div class="form-group"><label class="todo-label"> </label> <input type="text" autoComplete="off" class="todo-text"></div> <div class="btn-group"><button class="btn todo-cancel" type="button">Cancel<span class="visually-hidden"> </span></button> <button class="btn btn__primary todo-edit" type="submit">Save<span class="visually-hidden"> </span></button></div></form>'),Yt=L('<div class="c-cb"><input type="checkbox"> <label class="todo-label"> </label></div> <div class="btn-group"><button type="button" class="btn">Edit<span class="visually-hidden"> </span></button> <button type="button" class="btn btn__danger">Delete<span class="visually-hidden"> </span></button></div>',1),Pt=L('<div class="stack-small"><!></div>');function Kt(t,e){P(e,!1);const a=be();let r=U(e,"todo",12),n=I(!1),s=I(r().name);function i(g){r({...r(),...g}),a("update",r())}function f(){x(s,r().name),x(n,!1)}function p(){i({name:y(s)}),x(n,!1)}function c(){a("remove",r())}function o(){x(n,!0)}function m(){i({completed:!r().completed})}Y();var d=Pt(),v=$(d);{var u=g=>{var _=Wt(),k=$(_),A=$(k),l=$(A);w(A);var h=E(A,2);fe(h),w(k);var T=E(k,2),C=$(T),N=E($(C)),R=$(N);w(N),w(C);var O=E(C,2),X=E($(O)),ae=$(X);w(X),w(O),w(T),w(_),G(()=>{q(A,"for",`todo-${r().id??""}`),H(l,`New name for '${r().name??""}'`),q(h,"id",`todo-${r().id??""}`),H(R,`renaming ${r().name??""}`),O.disabled=!y(s),H(ae,`new name for ${r().name??""}`)}),Fe(h,()=>y(s),se=>x(s,se)),S("click",C,f),S("submit",_,Be(p)),S("keydown",_,se=>se.key==="Escape"&&f()),M(g,_)},b=g=>{var _=Yt(),k=pe(_),A=$(k);fe(A);var l=E(A,2),h=$(l,!0);w(l),w(k);var T=E(k,2),C=$(T),N=E($(C)),R=$(N,!0);w(N),w(C);var O=E(C,2),X=E($(O)),ae=$(X,!0);w(X),w(O),w(T),G(()=>{q(A,"id",`todo-${r().id??""}`),St(A,r().completed),q(l,"for",`todo-${r().id??""}`),H(h,r().name),H(R,r().name),H(ae,r().name)}),S("click",A,m),S("click",C,o),S("click",O,c),M(g,_)};Me(v,g=>{y(n)?g(u):g(b,!1)})}w(d),M(t,d),K()}var Xt=L('<div class="btn-group"><button type="button" class="btn btn__primary"> </button> <button type="button" class="btn btn__primary">Remove completed</button></div>');function Jt(t,e){P(e,!1);const a=I(),r=be();let n=U(e,"todos",8),s=I(!0);const i=()=>{r("checkAll",y(s)),x(s,!y(s))},f=()=>r("removeCompleted");W(()=>Z(n()),()=>{x(a,n().filter(d=>d.completed).length)}),te(),Y();var p=Xt(),c=$(p),o=$(c);w(c);var m=E(c,2);w(p),G(()=>{c.disabled=n().length===0,H(o,`${(y(s)?"Check":"Uncheck")??""} all`),m.disabled=y(a)===0}),S("click",c,i),S("click",m,f),M(t,p),K()}function de(t){if(t&&typeof t.select=="function"){const e=a=>t.select();return t.addEventListener("focus",e),{destroy:()=>t.removeEventListener("focus",e)}}}var Qt=L('<form><h2 class="label-wrapper"><label for="todo-0" class="label__lg">What needs to be done?</label></h2> <input type="text" id="todo-0" autoComplete="off" class="input input__lg"> <button type="submit" class="btn btn__primary btn__lg">Add</button></form>');function Zt(t,e){P(e,!1);const a=be();let r=U(e,"autofocus",8,!1),n=I(""),s=I();const i=()=>{a("addTodo",y(n)),x(n,""),y(s).focus()},f=()=>{x(n,""),y(s).focus()};Tt(()=>r()&&y(s).focus()),Y();var p=Qt(),c=E($(p),2);fe(c),ue(()=>Fe(c,()=>y(n),m=>x(n,m))),he(c,m=>x(s,m),()=>y(s)),Nt(c,m=>de==null?void 0:de(m));var o=E(c,2);w(p),G(()=>o.disabled=!y(n)),S("submit",p,Be(i)),S("keydown",p,m=>m.key==="Escape"&&f()),M(t,p),K()}var jt=L('<h2 id="list-heading" tabindex="-1"> </h2>');function ea(t,e){P(e,!1);const a=I(),r=I();let n=U(e,"todos",8),s=I();const i=()=>y(s).focus();W(()=>Z(n()),()=>{x(a,n().length)}),W(()=>Z(n()),()=>{x(r,n().filter(c=>c.completed).length)}),te(),Y();var f=jt(),p=$(f);return w(f),he(f,c=>x(s,c),()=>y(s)),G(()=>H(p,`${y(r)??""} out of ${y(a)??""} items completed`)),M(t,f),Bt(e,"focus",i),K({focus:i})}var ta=L('<li class="todo"><!></li>'),aa=L("<li>Nothing to do here!</li>"),sa=L('<div class="todoapp stack-large"><!> <!> <!> <ul role="list" class="todo-list stack-large" aria-labelledby="list-heading"></ul> <hr> <!></div>');function ra(t,e){P(e,!1);const[a,r]=me(),n=I();let s=U(e,"todos",28,()=>[]),i=I();function f(l){s([...s(),{id:y(n),name:l,completed:!1}]),D(F,`Todo '${l}' has been added`)}function p(l){s(s().filter(h=>h.id!==l.id)),y(i).focus(),D(F,`Todo '${l.name}' has been deleted`)}function c(l){const h=s().findIndex(T=>T.id===l.id);s()[h].name!==l.name&&D(F,`todo '${s()[h].name}' has been renamed to '${l.name}'`),s()[h].completed!==l.completed&&D(F,`todo '${s()[h].name}' marked as ${l.completed?"completed":"active"}`),s(s()[h]={...s()[h],...l},!0)}let o=I("all");const m=(l,h)=>l==="active"?h.filter(T=>!T.completed):l==="completed"?h.filter(T=>T.completed):h,d=l=>{s(s().map(h=>({...h,completed:l}))),D(F,`${l?"Checked":"Unchecked"} ${s().length} todos`)},v=()=>{D(F,`Removed ${s().filter(l=>l.completed).length} todos`),s(s().filter(l=>!l.completed))};W(()=>Z(s()),()=>{x(n,s().length>0?Math.max(...s().map(l=>l.id))+1:1)}),W(()=>y(o),()=>{y(o)==="all"?D(F,"Browsing all todos"):y(o)==="active"?D(F,"Browsing active todos"):y(o)==="completed"&&D(F,"Browsing completed todos")}),te(),Y();var u=sa(),b=$(u);Zt(b,{autofocus:!0,$$events:{addTodo:l=>f(l.detail)}});var g=E(b,2);Ut(g,{get filter(){return y(o)},set filter(l){x(o,l)},$$legacy:!0});var _=E(g,2);he(ea(_,{get todos(){return s()},$$legacy:!0}),l=>x(i,l),()=>y(i));var k=E(_,2);xt(k,5,()=>m(y(o),s()),l=>l.id,(l,h)=>{var T=ta(),C=$(T);Kt(C,{get todo(){return y(h)},$$events:{update:N=>c(N.detail),remove:N=>p(N.detail)}}),w(T),M(l,T)},l=>{var h=aa();M(l,h)}),w(k);var A=E(k,4);Jt(A,{get todos(){return s()},$$events:{checkAll:l=>d(l.detail),removeCompleted:v}}),w(u),M(t,u),K(),r()}var na=L("<!> <!>",1);function va(t){const[e,a]=me(),r=()=>Ie(Ae,"$todos",e);var n=na(),s=pe(n);zt(s,{});var i=E(s,2);ra(i,{get todos(){return gt(),r()},set todos(f){D(Ae,f)},$$legacy:!0}),M(t,n),a()}export{va as component};
